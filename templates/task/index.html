{% extends "base.html" %}
{% block content %}
  <div class="d-flex justify-content-between align-items-center">
    <h1>TODO List:</h1>
    <a href="{% url 'task:task-create' %}" class="btn btn-primary">Create Task</a>
  </div>
  <br>
  {% if tasks %}
    {% for task in tasks %}
      <h3>{{ task.content }}
      {% if task.is_done %}
        <span style="color: green">Done</span>
        <a class="btn btn-secondary link-to-page" href="{% url 'task:task-change-status' pk=task.pk %}">Undo</a>
      {% else %}
        <span style="color: red">Not done</span>
        <a class="btn btn-success link-to-page" href="{% url 'task:task-change-status' pk=task.pk %}">Complete</a>
      {% endif %}
      </h3>
      <p>Created at: {{ task.datetime }}{% if task.deadline_datetime %} <span style="color: coral">Deadline:{{ task.deadline_datetime }}
      </span>{% endif %}</p>
      <p>Tags:
      {% for tag in task.tags.all %}{{ tag.name }} {% endfor %}
      <a href="{% url 'task:task-update' pk=task.id %}" style="text-decoration: none">Update</a>
      <a href="{% url 'task:task-delete' pk=task.id %}" style="text-decoration: none">Delete</a>
      </p>
      <hr>
    {% endfor %}
  {% else %}
    <p>There are no tasks</p>
  {% endif %}
{% endblock %}
